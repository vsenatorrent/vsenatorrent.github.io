!function(e){e.fn.slider=function(a){var n=e(this),t=0,s=null,a=e.extend({direction:0,prev:"#prev",next:"#next",prev_disable_class:"",next_disable_class:"",prev_callback:function(){},next_callback:function(){},pager:"",pager_event:"click",pager_callback:function(){},size:1,step:1,speed:300,easing:"swing",autoplay:!1,interval:5e3,mousewheel:!1,drag:!0,callback:function(){}},a);if(n.attr({onSelectStart:"return false;",style:"-moz-user-select: none; -khtml-user-select: none; user-select: none;"}),0==a.direction){n.width();var i=n.find("li").width()}else{n.height();var r=n.find("li").height()}var o=n.find("li").length,l=Math.ceil(o/a.size),c=a.size-1,p=o-c-1,u=function(){--t<0&&(t=0),f(t),a.prev_callback(t)},d=function(){t++,a.step>1?t>l-1&&(t=l-1):t>p&&(t=p),f(t),a.next_callback(t)},f=function(t){a.step>1&&(t*=a.step)>p&&(t=p),0==a.direction?n.find("ul").stop().animate({"margin-left":-t*i+"px"},a.speed,a.easing):n.find("ul").stop().animate({"margin-top":-t*r+"px"},a.speed,a.easing),a.autoplay&&(clearTimeout(s),s=setTimeout(function(){++t==o&&(t=0),f(t)},a.interval)),e(a.prev).removeClass(a.prev_disable_class),e(a.next).removeClass(a.next_disable_class),0==t&&e(a.prev).addClass(a.prev_disable_class),t==p&&e(a.next).addClass(a.next_disable_class),""!=a.pager&&(e(a.pager).find("span").removeClass("current"),a.step>1?(pointNo=Math.ceil(t/a.step),e(a.pager).find("span:eq("+pointNo+")").addClass("current")):e(a.pager).find("span:eq("+pointNo+")").addClass("current"))};if(l>1?(e(a.prev).addClass(a.prev_disable_class),e(a.prev).on("click",function(){u()}),e(a.next).on("click",function(){d()})):(e(a.prev).addClass(a.prev_disable_class),e(a.next).addClass(a.next_disable_class)),""!=a.pager){btn="";for(var h=0;h<l;h++)btn+="<span data-id='"+h+"' "+(0==h?"class='current'":"")+">"+(h+1)+"</span>";e(a.pager).html(btn),e(a.pager).find("span").on(a.pager_event,function(){var n=e(this);e(a.pager).find("span").removeClass("current"),n.addClass("current"),t=parseInt(n.data("id")),f(t),a.pager_callback(t)})}return a.autoplay&&(s=setTimeout(function(){f(++t)},a.interval)),a.drag&&"ontouchstart"in window&&(n.on("touchstart",function(n){var t=n.originalEvent.changedTouches[0],s=t.pageX,i=t.pageY;e(document).on("touchmove",function(n){var r=(t=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0]).pageX-s,o=t.pageY-i;if(0==a.direction){if(Math.abs(o)<Math.abs(r))return r>10?(e(this).off("touchmove"),u()):r<-10&&(e(this).off("touchmove"),d()),!1}else if(Math.abs(o)>Math.abs(r))return o>10?(e(this).off("touchmove"),u()):o<-10&&(e(this).off("touchmove"),d()),!1})}),e(document).on("touchend",function(){e(this).off("touchmove")})),a.mousewheel&&n.mousewheel(function(e,a,n,t){return a>0?u():d(),!1}),a.callback(),this}}(jQuery);